<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>WebSocket Test Client</title>
</head>
<body>
<h2>WebSocket Test Client</h2>
<input id="msg" placeholder="Message"/>
<button id="send">Send</button>
<div id="log"></div>
<script>
const ws = new WebSocket((location.protocol==='https:'?'wss:':'ws:') + '//' + location.host);
const log = msg => document.getElementById('log').innerHTML += msg+'<br>';

ws.onopen = () => log('Connected');
ws.onmessage = e => log('Received: ' + e.data);
ws.onclose = () => log('Disconnected');

document.getElementById('send').onclick = () => {
  const m = document.getElementById('msg').value;
  ws.send(m);
  log('Sent: ' + m);
};
</script>
</body>
</html>
